(this["webpackJsonphacker-news"]=this["webpackJsonphacker-news"]||[]).push([[0],{101:function(e,t,n){e.exports={heading:"ExactStory_heading__3kiiQ",backButton:"ExactStory_backButton__BzK_W"}},140:function(e,t,n){e.exports={comment:"CommentsList_comment__9Z0Mx"}},141:function(e,t,n){e.exports={loaderWrapper:"MySpin_loaderWrapper__3tNG1"}},155:function(e,t,n){},251:function(e,t,n){},252:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(31),s=n.n(a),o=n(96),i=n(258),u=(n(155),n(11)),j=n(15),b=n.n(j),l=n(22),p=n(19),h=function(e){var t=Object(r.useState)(!1),n=Object(p.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(""),o=Object(p.a)(s,2),i=o[0],u=o[1];return[function(){var t=Object(l.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(!0),t.next=4,e();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),u(t.t0.message);case 9:return t.prev=9,a(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}(),c,i]},d=n(97),f=n.n(d),O="https://hacker-news.firebaseio.com/v0",m="".concat(O,"/topstories.json"),x="".concat(O,"/item/"),v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{begin:t*e,end:(t+1)*e}},g=function(e){var t=e.begin,n=e.end;return e.items.slice(t,n)},_=function(){var e=Object(l.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get(m).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(x).concat(t,".json")).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(b.a.mark((function e(t,n){var r,c,a,s,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=v(30,n),c=r.begin,a=r.end,s=g({begin:c,end:a,items:t}),e.next=4,s.map((function(e){return y(e)}));case 4:return o=e.sent,e.abrupt("return",Promise.all(o));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.map((function(e){return y(e)}));case 2:return n=e.sent,e.abrupt("return",Promise.all(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=n(257),N=n(259),I=n(39),E=n.n(I),C=function(e){return new Date(1e3*e).toDateString()},M=n(256),T=n(4),B=function(e){var t=e.story,n=e.heading,r=e.handleClick,a=Object(u.h)(),s=c.a.createElement(n,{className:a.id?E.a.storyTitle:E.a.listTitle,onClick:r},t.title);return Object(T.jsx)(T.Fragment,{children:t.url&&t.title&&Object(T.jsxs)(M.a,{className:E.a.wrapper,hoverable:!a.id,children:[s,Object(T.jsxs)("div",{className:E.a.top,children:[Object(T.jsx)("a",{href:t.url,className:E.a.url,children:t.url}),Object(T.jsxs)("small",{className:E.a.rating,children:["Rating: ",t.score]})]}),Object(T.jsxs)("div",{className:E.a.bottom,children:[Object(T.jsxs)("p",{className:E.a.author,children:["Author: ",t.by]}),Object(T.jsx)("p",{className:E.a.date,onClick:r,children:C(t.time)})]})]})})},F=n(101),A=n.n(F),D=n(140),W=n.n(D),z=n(255),H=n(260),J=n(146),L=n(141),V=n.n(L),Y=n(254),G=function(){return Object(T.jsx)("div",{className:V.a.loaderWrapper,children:Object(T.jsx)(Y.a,{tip:"Loading...",size:"large"})})},P=function(e){var t=e.commentsArr,n=Object(r.useState)([]),c=Object(p.a)(n,2),a=c[0],s=c[1],o=Object(r.useRef)(!0),i=h(Object(l.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:if(n=e.sent,o.current){e.next=5;break}return e.abrupt("return",null);case 5:s(n);case 6:case"end":return e.stop()}}),e)})))),u=Object(p.a)(i,3),j=u[0],d=u[1];u[2];return Object(r.useEffect)((function(){return j(),function(){o.current=!1}}),[t]),d?Object(T.jsx)(G,{}):a.map((function(e){return Object(T.jsx)(z.a,{author:Object(T.jsx)("a",{children:e.by}),avatar:Object(T.jsx)(H.a,{src:"https://joeschmoe.io/api/v1/random",alt:e.by}),content:Object(T.jsx)("p",{children:e.text}),datetime:Object(T.jsx)(J.a,{title:C(e.time),children:Object(T.jsx)("span",{children:C(e.time)})}),className:W.a.comment,onClick:function(){return console.log(a)}},e.id)}))},R=function(e){var t=e.storyId,n=Object(r.useState)({}),c=Object(p.a)(n,2),a=c[0],s=c[1],o=Object(u.g)(),i=h(Object(l.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:n=e.sent,s(n);case 4:case"end":return e.stop()}}),e)})))),j=Object(p.a)(i,3),d=j[0],f=j[1],O=j[2];return Object(r.useEffect)((function(){d()}),[t]),Object(T.jsxs)(T.Fragment,{children:[O&&Object(T.jsx)(S.a,{message:"Error",description:O,type:"error",showIcon:!0}),f?Object(T.jsx)(G,{}):Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(N.a,{type:"link",className:A.a.backButton,onClick:function(){return o.goBack()},children:"Go back"}),Object(T.jsx)(B,{story:a,heading:"h2"}),Object(T.jsx)("h3",{className:A.a.heading,children:"Comments:"}),Object(T.jsx)(P,{commentsArr:a.kids})]})]})},Z=function(){var e=Object(u.h)();return Object(T.jsx)(R,{storyId:e.id})},q=n(103),K=(n(251),n(143)),Q=function(){var e=Object(r.useState)([]),t=Object(p.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),s=Object(p.a)(a,2),o=s[0],i=s[1],j=Object(r.useState)(0),d=Object(p.a)(j,2),f=d[0],O=d[1],m=Object(r.useState)(!0),x=Object(p.a)(m,2),v=x[0],g=x[1],y=Object(u.g)(),w=h(Object(l.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})))),N=Object(p.a)(w,3),I=N[0],E=N[1],C=N[2],M=h(Object(l.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(n,f);case 2:t=e.sent,i([].concat(Object(q.a)(o),Object(q.a)(t)));case 4:case"end":return e.stop()}}),e)})))),F=Object(p.a)(M,3),A=F[0],D=F[1],W=F[2];Object(r.useEffect)((function(){I()}),[]),Object(r.useEffect)((function(){A()}),[f,n]);return Object(T.jsxs)(T.Fragment,{children:[W&&C&&Object(T.jsx)(S.a,{message:"Error",description:"".concat(C," and ").concat(W),type:"error",showIcon:!0}),E&&D?Object(T.jsx)(G,{}):Object(T.jsx)(K.a,{dataLength:o.length,next:function(){o.length>=500?g(!1):O(f+1)},hasMore:v,scrollThreshold:.85,loader:Object(T.jsx)(G,{}),endMessage:Object(T.jsx)("p",{style:{textAlign:"center"},children:Object(T.jsx)("b",{children:"Yay! You have seen it all"})}),style:{overflow:"hidden"},children:o.map((function(e){return Object(T.jsx)("div",{children:Object(T.jsx)(B,{story:e,heading:"h3",handleClick:function(){return y.push("/story/".concat(e.id))}})},e.id)}))})]})},U="/newstories",X=[{path:U,exact:!0,component:function(){return Object(T.jsx)(Q,{})}},{path:"/story/:id",exact:!1,component:Z}],$=function(){return Object(T.jsxs)(u.d,{children:[X.map((function(e){return Object(T.jsx)(u.b,{path:e.path,exact:e.exact,component:e.component},e.path)})),Object(T.jsx)(u.a,{to:U})]})},ee=n(61),te=n(35),ne=function(){return Object(T.jsx)(ee.a,{justify:"space-between",children:Object(T.jsx)(te.a,{className:"ant-menu ant-menu-dark",children:"Hacker News"})})};var re=function(){return Object(T.jsxs)(i.a,{children:[Object(T.jsx)(i.a.Header,{className:"header",children:Object(T.jsx)(ne,{})}),Object(T.jsx)(i.a.Content,{className:"main",children:Object(T.jsx)($,{})}),Object(T.jsx)(i.a.Footer,{className:"footer",children:"Developed by Slava Tsvetkoffff"})]})};s.a.render(Object(T.jsx)(o.a,{children:Object(T.jsx)(re,{})}),document.getElementById("root"))},39:function(e,t,n){e.exports={wrapper:"StoryItem_wrapper__2DEhq",top:"StoryItem_top__ZYNtM",bottom:"StoryItem_bottom__Hi4Xn",listTitle:"StoryItem_listTitle__32wlz",url:"StoryItem_url__1J13F",author:"StoryItem_author__3U-VV",rating:"StoryItem_rating__3eVNT",date:"StoryItem_date__MkDAM"}}},[[252,1,2]]]);
//# sourceMappingURL=main.2fdbf51a.chunk.js.map