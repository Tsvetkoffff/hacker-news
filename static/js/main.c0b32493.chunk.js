(this["webpackJsonphacker-news"]=this["webpackJsonphacker-news"]||[]).push([[0],{101:function(e,t,n){e.exports={heading:"ExactStory_heading__2vWvg",backButton:"ExactStory_backButton__23JTK"}},140:function(e,t,n){e.exports={comment:"CommentsList_comment__3XXO-"}},141:function(e,t,n){e.exports={loaderWrapper:"MySpin_loaderWrapper__1sGtV"}},155:function(e,t,n){},251:function(e,t,n){},252:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(31),s=n.n(a),o=n(96),i=n(258),u=(n(155),n(11)),j=n(15),b=n.n(j),l=n(22),p=n(19),h=function(e){var t=Object(r.useState)(!1),n=Object(p.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(""),o=Object(p.a)(s,2),i=o[0],u=o[1];return[function(){var t=Object(l.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(!0),t.next=4,e();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),u(t.t0.message);case 9:return t.prev=9,a(!1),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}(),c,i]},d=n(97),f=n.n(d),O="https://hacker-news.firebaseio.com/v0",m="".concat(O,"/topstories.json"),x="".concat(O,"/item/"),v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{begin:t*e,end:(t+1)*e}},g=function(e){var t=e.begin,n=e.end;return e.items.slice(t,n)},y=function(){var e=Object(l.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get(m).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(l.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("".concat(x).concat(t,".json")).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(b.a.mark((function e(t,n){var r,c,a,s,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=v(30,n),c=r.begin,a=r.end,s=g({begin:c,end:a,items:t}),e.next=4,s.map((function(e){return _(e)}));case 4:return o=e.sent,e.abrupt("return",Promise.all(o));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.map((function(e){return _(e)}));case 2:return n=e.sent,e.abrupt("return",Promise.all(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=n(257),N=n(259),I=n(39),C=n.n(I),E=function(e){return new Date(1e3*e).toDateString()},T=n(256),A=n(4),F=function(e){var t=e.story,n=e.heading,r=e.handleClick,a=Object(u.h)(),s=c.a.createElement(n,{className:a.id?C.a.storyTitle:C.a.listTitle,onClick:r},t.title);return Object(A.jsx)(A.Fragment,{children:t.url&&t.title&&Object(A.jsxs)(T.a,{className:C.a.wrapper,hoverable:!a.id,children:[s,Object(A.jsxs)("div",{className:C.a.top,children:[Object(A.jsx)("a",{href:t.url,className:C.a.url,children:t.url}),Object(A.jsxs)("small",{className:C.a.rating,children:["Rating: ",t.score]})]}),Object(A.jsxs)("div",{className:C.a.bottom,children:[Object(A.jsxs)("p",{className:C.a.author,children:["Author: ",t.by]}),Object(A.jsx)("p",{className:C.a.date,onClick:r,children:E(t.time)})]})]})})},B=n(101),J=n.n(B),L=n(140),M=n.n(L),P=n(255),W=n(260),D=n(146),G=n(141),K=n.n(G),R=n(254),X=function(){return Object(A.jsx)("div",{className:K.a.loaderWrapper,children:Object(A.jsx)(R.a,{tip:"Loading...",size:"large"})})},Y=function(e){var t=e.commentsArr,n=Object(r.useState)([]),c=Object(p.a)(n,2),a=c[0],s=c[1],o=Object(r.useRef)(!0),i=h(Object(l.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:if(n=e.sent,o.current){e.next=5;break}return e.abrupt("return",null);case 5:s(n);case 6:case"end":return e.stop()}}),e)})))),u=Object(p.a)(i,3),j=u[0],d=u[1];u[2];return Object(r.useEffect)((function(){return j(),function(){o.current=!1}}),[t]),d?Object(A.jsx)(X,{}):a.map((function(e){return Object(A.jsx)(P.a,{author:Object(A.jsx)("a",{children:e.by}),avatar:Object(A.jsx)(W.a,{src:"https://joeschmoe.io/api/v1/random",alt:e.by}),content:Object(A.jsx)("p",{children:e.text}),datetime:Object(A.jsx)(D.a,{title:E(e.time),children:Object(A.jsx)("span",{children:E(e.time)})}),className:M.a.comment,onClick:function(){return console.log(a)}},e.id)}))},H=function(e){var t=e.storyId,n=Object(r.useState)({}),c=Object(p.a)(n,2),a=c[0],s=c[1],o=Object(u.g)(),i=h(Object(l.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(t);case 2:n=e.sent,s(n);case 4:case"end":return e.stop()}}),e)})))),j=Object(p.a)(i,3),d=j[0],f=j[1],O=j[2];return Object(r.useEffect)((function(){d()}),[t]),Object(A.jsxs)(A.Fragment,{children:[O&&Object(A.jsx)(S.a,{message:"Error",description:O,type:"error",showIcon:!0}),f?Object(A.jsx)(X,{}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(N.a,{type:"link",className:J.a.backButton,onClick:function(){return o.goBack()},children:"Go back"}),Object(A.jsx)(F,{story:a,heading:"h2"}),Object(A.jsx)("h3",{className:J.a.heading,children:"Comments:"}),Object(A.jsx)(Y,{commentsArr:a.kids})]})]})},z=function(){var e=Object(u.h)();return Object(A.jsx)(H,{storyId:e.id})},Q=n(103),U=(n(251),n(143)),V=function(){var e=Object(r.useState)([]),t=Object(p.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)([]),s=Object(p.a)(a,2),o=s[0],i=s[1],j=Object(r.useState)(0),d=Object(p.a)(j,2),f=d[0],O=d[1],m=Object(r.useState)(!0),x=Object(p.a)(m,2),v=x[0],g=x[1],_=Object(u.g)(),k=h(Object(l.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})))),N=Object(p.a)(k,3),I=N[0],C=N[1],E=N[2],T=h(Object(l.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(n,f);case 2:t=e.sent,i([].concat(Object(Q.a)(o),Object(Q.a)(t)));case 4:case"end":return e.stop()}}),e)})))),B=Object(p.a)(T,3),J=B[0],L=B[1],M=B[2];Object(r.useEffect)((function(){I()}),[]),Object(r.useEffect)((function(){J()}),[f,n]);return Object(A.jsxs)(A.Fragment,{children:[M&&E&&Object(A.jsx)(S.a,{message:"Error",description:"".concat(E," and ").concat(M),type:"error",showIcon:!0}),C&&L?Object(A.jsx)(X,{}):Object(A.jsx)(U.a,{dataLength:o.length,next:function(){o.length>=500?g(!1):O(f+1)},hasMore:v,scrollThreshold:.85,loader:Object(A.jsx)(X,{}),endMessage:Object(A.jsx)("p",{style:{textAlign:"center"},children:Object(A.jsx)("b",{children:"Yay! You have seen it all"})}),style:{overflow:"hidden"},children:o.map((function(e){return Object(A.jsx)("div",{children:Object(A.jsx)(F,{story:e,heading:"h3",handleClick:function(){return _.push("/story/".concat(e.id))}})},e.id)}))})]})},Z="/newstories",q=[{path:Z,exact:!0,component:function(){return Object(A.jsx)(V,{})}},{path:"/story/:id",exact:!1,component:z}],$=function(){return Object(A.jsxs)(u.d,{children:[q.map((function(e){return Object(A.jsx)(u.b,{path:e.path,exact:e.exact,component:e.component},e.path)})),Object(A.jsx)(u.a,{to:Z})]})},ee=n(61),te=n(35),ne=function(){return Object(A.jsx)(ee.a,{justify:"space-between",children:Object(A.jsx)(te.a,{className:"ant-menu ant-menu-dark",children:"Hacker News"})})};var re=function(){return Object(A.jsxs)(i.a,{children:[Object(A.jsx)(i.a.Header,{className:"header",children:Object(A.jsx)(ne,{})}),Object(A.jsx)(i.a.Content,{className:"main",children:Object(A.jsx)($,{})}),Object(A.jsx)(i.a.Footer,{className:"footer",children:"Developed by Slava Tsvetkoffff"})]})};s.a.render(Object(A.jsx)(o.a,{children:Object(A.jsx)(re,{})}),document.getElementById("root"))},39:function(e,t,n){e.exports={wrapper:"StoryItem_wrapper__30KgR",top:"StoryItem_top__1aMAC",bottom:"StoryItem_bottom__Oc-ub",listTitle:"StoryItem_listTitle__3LSye",url:"StoryItem_url__3PKA0",author:"StoryItem_author__1ZNUF",rating:"StoryItem_rating__1XYJo",date:"StoryItem_date__3Q2PG"}}},[[252,1,2]]]);
//# sourceMappingURL=main.c0b32493.chunk.js.map